<!-- inventory_tree_content.html -->
<div class="container">
    <div class="accordion" id="inventoryAccordion">

        <!-- Loop through categories in the inventory tree -->
        {% for category, data in inventory_tree.items() %}
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-{{ loop.index }}">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-{{ loop.index }}" aria-expanded="false" aria-controls="collapse-{{ loop.index }}">
                    {{ category }} ({{ data.count }} Products)
                </button>
            </h2>
            <div id="collapse-{{ loop.index }}" class="accordion-collapse collapse" aria-labelledby="heading-{{ loop.index }}" data-bs-parent="#inventoryAccordion">
                <div class="accordion-body">
                    <ul class="list-group">
                        <!-- Loop through the products under this category -->
                        {% for product in data.products %}
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            {{ product.product_name }} - Price: â‚±{{ "%.2f"|format(product.price_per_unit) }} - Stock: {{ product.quantity }}
                            <span class="badge bg-primary rounded-pill">{{ product.size }}</span>
                        </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
        </div>
        {% endfor %}
        
    </div>
</div>
